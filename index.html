<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>수양회비 가격 계산기</title>
    <link href="css/retreat_calculator.css" rel="stylesheet">
</head>
<body>
 
    <div id="content">
        <h2 id="title">[ENCOUNTER GRACE]<br>수양회 회비 계산기🔢</h2>
        <p>너희는 그 은혜에 의하여 믿음으로 말미암아 구원을 받았으니 이것은 너희에게서 난 것이 아니요 하나님의 선물이라 (에베소서 2:8)</p>
        <br>
        <p>🗓️ 일정: 2024년 7월 3일 (수) ~ 6일 (토)</p>
        <p>📍 장소: 총신대학교 양지캠퍼스</p>
        <p>💸 전참 비용: 50,000원 | 부분참 비용: 각 항목마다 9,000원</p>
        <p>⭐ 참여 기간 중 아침식사를 하지 않으시더라도, 아침식사 란은 체크하셔야 합니다!</p>
        <br>
        <div id="buttons">
            <input type='button' value="전체 선택" onclick="checkAll(true)"/>
            <input type='button' value="전체 취소" onclick="checkAll(false)"/>
        </div>
        
        <table border="2">
            <thead>
                <tr>
                    <th>요일</th>
                    <th>아침식사</th>
                    <th>점심식사</th>
                    <th>저녁식사</th>
                    <th>숙박</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>7.3 (수)</td>
                    <td>선택불가</td>
                    <td><input type="checkbox" class="checkbox lunch"/></td>
                    <td><input type="checkbox" class="checkbox dinner"/></td>
                    <td><input type="checkbox" class="checkbox night"/></td>
                </tr>
                <tr>
                    <td>7.4 (목)</td>
                    <td><input type="checkbox" class="checkbox morning"/></td>
                    <td><input type="checkbox" class="checkbox lunch"/></td>
                    <td><input type="checkbox" class="checkbox dinner"/></td>
                    <td><input type="checkbox" class="checkbox night"/></td>
                </tr>
                <tr>
                    <td>7.5 (금)</td>
                    <td><input type="checkbox" class="checkbox morning"/></td>
                    <td><input type="checkbox" class="checkbox lunch"/></td>
                    <td><input type="checkbox" class="checkbox dinner"/></td>
                    <td><input type="checkbox" class="checkbox night"/></td>
                </tr>
                <tr>
                    <td>7.6 (토)</td>
                    <td><input type="checkbox" class="checkbox morning"/></td>
                    <td><input type="checkbox" class="checkbox lunch"/></td>
                    <td>선택불가</td>
                    <td>선택불가</td>
                </tr>
            </tbody>
        </table>
        
        <div id="calculateButton">
            <input type='button' value="내 수양회 회비 확인하기" onclick="calculateFee()"/>
        </div>
        
        <h2 id="total">➡️ 총액은 0원 입니다.</h2>
    </div>
    
    <script>
        const FULL_PARTICIPATION_FEE = 50000;
        const PARTIAL_PARTICIPATION_FEE_PER_ITEM = 9000;

        function checkAll(isChecked) {
            document.querySelectorAll('.checkbox').forEach(checkbox => {
                if (!checkbox.disabled) {
                    checkbox.checked = isChecked;
                }
            });
        }

        function calculateFee() {
            console.log('Calculate function called');
            let checkedCount = 0;
            document.querySelectorAll('.checkbox').forEach(checkbox => {
                if (checkbox.checked) {
                    checkedCount++;
                }
            });

            let totalFee = checkedCount * PARTIAL_PARTICIPATION_FEE_PER_ITEM;
            if (totalFee > FULL_PARTICIPATION_FEE) {
                totalFee = FULL_PARTICIPATION_FEE;
            }

            document.getElementById('total').innerText = `➡️ 총액은 ${totalFee.toLocaleString()}원 입니다.`;
        }
    </script>
</body>
</html>
